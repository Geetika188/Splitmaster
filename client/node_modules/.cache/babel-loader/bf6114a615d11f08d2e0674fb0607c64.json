{"ast":null,"code":"var _jsxFileName = \"/Users/geetikakapil/Documents/Split master/splitwise2/client/src/containers/login_container.js\";\nimport React from 'react'; //import { Login } from '../components/login';\n\nimport axios from 'axios';\nimport { serverIp, serverPort } from '../components/config';\nimport { instance } from '../utils/AxiosConfig';\nimport { withRouter } from \"react-router-dom\";\nimport { Header } from '../components/Header';\nimport setAuthorizationToken from \"../utils/AxiosConfig\";\n\nclass Login_smart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      emailId: '',\n      password: '',\n      username: ''\n    };\n    this.onChangePasswordHandler = this.onChangePasswordHandler.bind(this);\n    this.onChangeEmailHandler = this.onChangeEmailHandler.bind(this);\n    this.onLoginSubmit = this.onLoginSubmit.bind(this);\n  }\n\n  onChangePasswordHandler(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  onChangeEmailHandler(e) {\n    this.setState({\n      emailId: e.target.value\n    });\n  }\n\n  onLoginSubmit(e) {\n    e.preventDefault();\n    const data = {\n      emailId: this.state.emailId.toLowerCase(),\n      password: this.state.password\n    };\n    axios.defaults.withCredentials = true;\n    axios.post(`${serverIp}:${serverPort}/login`, data).then(response => {\n      console.log('Login Response Data');\n      console.log(response.data);\n\n      if (response.data === 'User Not Present') {\n        window.alert('Given username not present.');\n      } else if (response.data === 'Wrong Password') {\n        window.alert('Wrong Password given');\n      } else if (response.data === 'Error') {\n        window.alert('Error in Connecting to Database');\n      } else {\n        localStorage.setItem('username', response.data.username);\n        localStorage.setItem('email_current', response.data.emailId);\n        localStorage.setItem('password', response.data.password);\n        localStorage.setItem('timezone', response.data.timezone);\n        localStorage.setItem('contact_phone', response.data.phonenumber);\n        localStorage.setItem('currency', response.data.currency);\n        localStorage.setItem('language', response.state.language);\n        localStorage.setItem('profilepicture', response.data.profilepicture);\n        window.location.href = '/Dashboard';\n      }\n    }).catch(err => {\n      console.log(`In catch of axios post call to login api ${err}`);\n      window.alert('Error in Login API axios Post call');\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container signup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signup-logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: require(\"../images/logo.png\"),\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signup-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }\n    }, \"WELCOME TO SPLITWISE\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onLoginSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }\n    }, \"Email address\"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"email\",\n      onChange: this.onChangeEmailHandler,\n      className: \"form-control\",\n      type: \"text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"password\",\n      onChange: this.onChangePasswordHandler,\n      className: \"form-control\",\n      type: \"text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 8\n      }\n    }, \"Log In\")))));\n  }\n\n}\n\nexport default withRouter(Login_smart);","map":{"version":3,"sources":["/Users/geetikakapil/Documents/Split master/splitwise2/client/src/containers/login_container.js"],"names":["React","axios","serverIp","serverPort","instance","withRouter","Header","setAuthorizationToken","Login_smart","Component","constructor","props","state","emailId","password","username","onChangePasswordHandler","bind","onChangeEmailHandler","onLoginSubmit","e","setState","target","value","preventDefault","data","toLowerCase","defaults","withCredentials","post","then","response","console","log","window","alert","localStorage","setItem","timezone","phonenumber","currency","language","profilepicture","location","href","catch","err","render","require"],"mappings":"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","sourcesContent":["import React from 'react';\r\n//import { Login } from '../components/login';\r\nimport axios from 'axios';\r\nimport { serverIp, serverPort } from '../components/config';\r\nimport {instance} from '../utils/AxiosConfig';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Header } from '../components/Header';\r\nimport setAuthorizationToken from \"../utils/AxiosConfig\";\r\n class Login_smart extends React.Component{\r\n    constructor(props){       \r\n            super(props);\r\n            this.state = {\r\n              emailId: '',\r\n              password: '',\r\n              username: '',             \r\n            };\r\n    this.onChangePasswordHandler = this.onChangePasswordHandler.bind(this);\r\n      this.onChangeEmailHandler = this.onChangeEmailHandler.bind(this);\r\n      this.onLoginSubmit = this.onLoginSubmit.bind(this);\r\n    \r\n    }\r\n    onChangePasswordHandler(e) {\r\n        this.setState({\r\n          password: e.target.value,\r\n        });\r\n      }\r\n      onChangeEmailHandler(e) {\r\n        this.setState({\r\n          emailId: e.target.value,\r\n        });\r\n      }\r\n\r\n      onLoginSubmit(e) {\r\n        e.preventDefault();\r\n       const data = {\r\n            emailId: this.state.emailId.toLowerCase(),\r\n            password: this.state.password,          \r\n          };\r\n          axios.defaults.withCredentials = true;\r\n          axios.post(`${serverIp}:${serverPort}/login`, data)\r\n            .then((response) => {\r\n              console.log('Login Response Data');\r\n              console.log(response.data);\r\n              if (response.data === 'User Not Present') {\r\n                window.alert('Given username not present.');\r\n              } else if (response.data === 'Wrong Password') {\r\n                window.alert('Wrong Password given');\r\n              } else if (response.data === 'Error') {\r\n                window.alert('Error in Connecting to Database');\r\n              } else {\r\n                localStorage.setItem('username', response.data.username);\r\n                localStorage.setItem('email_current', response.data.emailId);\r\n                localStorage.setItem('password', response.data.password);\r\n                localStorage.setItem('timezone', response.data.timezone);\r\n                localStorage.setItem('contact_phone', response.data.phonenumber);\r\n                localStorage.setItem('currency', response.data.currency);\r\n                localStorage.setItem('language', response.state.language);\r\n                localStorage.setItem('profilepicture', response.data.profilepicture);\r\n                window.location.href = '/Dashboard';\r\n             }\r\n            }).catch((err) => {\r\n              console.log(`In catch of axios post call to login api ${err}`);\r\n              window.alert('Error in Login API axios Post call');\r\n            });\r\n        }\r\n      \r\n    \r\n    render(){\r\n        return(\r\n            <div>\r\n            <Header/>\r\n        <div className = \"container signup\">\r\n      \r\n        <div className = \"signup-logo\">\r\n      <img  src={require(\"../images/logo.png\")} alt=\"\" />\r\n      </div>\r\n    \r\n    \r\n      <div className = \"signup-form\">\r\n        <h3>WELCOME TO SPLITWISE</h3>\r\n        <form onSubmit={this.onLoginSubmit}>\r\n        <label htmlFor=\"\">Email address</label>\r\n        <input id = \"email\" onChange = {this.onChangeEmailHandler} className = \"form-control\" type=\"text\"/>\r\n    \r\n        <label htmlFor=\"\">Password</label>\r\n        <input id = \"password\" onChange = {this.onChangePasswordHandler} className = \"form-control\" type=\"text\"/>     \r\n       <button type=\"submit\" className = \"btn\">Log In</button>\r\n       </form>\r\n     </div>\r\n     </div>\r\n     </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(Login_smart);\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}